(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[8,10],{138:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),l=a(305);t.default=c.a.memo((function(e){var t=Object(l.a)().t;return c.a.createElement("footer",{className:"fadeInUp",style:{animationDelay:"2s"}},c.a.createElement("h5",null,t("We stand with everyone fighting on the frontlines")),c.a.createElement("div",{className:"link"},c.a.createElement("a",{href:"https://www.sofaio.company/",target:"_blank",rel:"noopener noreferrer"},"\xa9 2020 SOFAIO -  All rights reserved.")))}))},297:function(e,t,a){"use strict";a.r(t);var n=a(109),c=a(62),l=a(6),i=a.n(l),s=a(260);var r=i.a.memo((function(e){return i.a.createElement("div",{className:"DownloadBlock fadeInUp",style:{animationDelay:"0.5s"}},i.a.createElement("a",{className:"button",target:"_noblank",href:"https://raw.githubusercontent.com/covid19india/api/gh-pages/raw_data.json"},i.a.createElement(s.a,null)," ",i.a.createElement("span",null,"JSON")),i.a.createElement("a",{className:"button",target:"_noblank",href:"https://raw.githubusercontent.com/covid19india/api/gh-pages/csv/latest/raw_data.csv"},i.a.createElement(s.a,null)," ",i.a.createElement("span",null,"CSV")))}),(function(){return!0})),d=a(138),o=a(55);var m=function(e){var t=e.logs,a=e.summary,n=e.setModal,c=e.setPatient,l=e.expand,s=e.applyClass;return i.a.createElement("div",{className:"Patients fadeInUp",style:{animationDelay:"1s"}},Object.keys(t).slice(a?-1:0).map((function(e,r){return"Invalid Date"!==e?i.a.createElement(i.a.Fragment,{key:r},i.a.createElement("h5",{className:"daylabel"},Object(o.a)(new Date(e),"dd MMM, yyyy")," ","("+t[e].length+")"),i.a.createElement("div",{key:r,className:"day ".concat(a?"summary":"")},t[e].slice(a?-40:0).map((function(e,t){return i.a.createElement("div",{key:t,className:s(e),onClick:function(){n(!0),c(e)}},i.a.createElement("h3",null,l?"P".concat(e.patientnumber):""))})))):null})))},u=a(291),E=a(179),h=a(251),p=a(239);var f=function(e){var t=Object(l.useState)(e.patients),a=Object(c.a)(t,2),n=a[0],s=a[1],r=Object(l.useState)(e.patients.slice(-1)),d=Object(c.a)(r,2),o=d[0],f=d[1],y=Object(l.useState)({}),v=Object(c.a)(y,2),b=v[0],g=v[1],N=Object(l.useState)(!1),j=Object(c.a)(N,2),O=j[0],k=j[1];Object(h.a)(O),window.onclick=function(e){var t=document.getElementById("modal");e.target===t&&k(!1)},Object(p.a)("Escape",(function(){k(!1)})),Object(l.useEffect)((function(){s(e.patients)}),[e.patients]);var w=Object(l.useCallback)((function(e){for(var t={},a=0;a<e.length;a++){var n=new Date(Object(u.a)(e[a].dateannounced,"dd/MM/yyyy",new Date));if(n in t){var c=t[n];c.push(e[a]),t[n]=c}else{var l=[];l.push(e[a]),t[n]=l}}g(t)}),[]);return Object(l.useEffect)((function(){n.length&&w(n)}),[w,n]),i.a.createElement(i.a.Fragment,null,i.a.createElement(m,{logs:b,setModal:k,setPatient:f,expand:e.expand,applyClass:function(t){switch(t){case"genders":return function(t){return"patient-card ".concat("F"===t.gender?"is-femme":"M"===t.gender?"is-male":""," ").concat(e.expand?"":"is-small")};case"transmission":return function(t){return"patient-card ".concat("Local"===t.typeoftransmission?"is-local":"Imported"===t.typeoftransmission?"is-imported":""," ").concat(e.expand?"":"is-small")};case"nationality":return function(t){return"patient-card ".concat("India"===t.nationality?"is-in":"Myanmar"===t.nationality?"is-mm":"Indonesia"===t.nationality?"is-id":"United Kingdom"===t.nationality?"is-uk":"United States of America"===t.nationality?"is-us":"Thailand"===t.nationality?"is-th":"Phillipines"===t.nationality?"is-ph":"Italy"===t.nationality?"is-it":"Canada"===t.nationality?"is-ca":""," ").concat(e.expand?"":"is-small")};case"age":default:return function(t){return"patient-card ".concat(e.expand?"":"is-small")}}}(e.colorMode)}),O&&i.a.createElement("div",{className:"modal",id:"modal"},i.a.createElement("div",{className:"modal-content ".concat(O?"fadeInUp":"fadeOutDown")},i.a.createElement("div",{className:"close-button"},i.a.createElement(E.a,{onClick:function(){k(!1)}})),i.a.createElement("div",{className:"modal-top"},i.a.createElement("h1",null,"#",o.patientnumber)),i.a.createElement("div",{className:"meta"},i.a.createElement("h5",null,"Date Announced"),i.a.createElement("h3",null,o.dateannounced?o.dateannounced:"?"),i.a.createElement("h5",null,"Contracted from"),i.a.createElement("h3",{className:"contracted-from",onClick:function(){!function(e){if(""!==e)try{var t=e.slice(1);n.map((function(e,a){e.patientnumber===t&&f(e)}))}catch(a){console.log(a)}}(o.contractedfromwhichpatientsuspected)}},o.contractedfromwhichpatientsuspected?o.contractedfromwhichpatientsuspected:"?"),i.a.createElement("h5",null,"Detected City"),i.a.createElement("h3",null,o.detectedcity?o.detectedcity:"?"),i.a.createElement("h5",null,"Detected District"),i.a.createElement("h3",null,o.detecteddistrict?o.detecteddistrict:"?"),i.a.createElement("h5",null,"Detected State"),i.a.createElement("h3",null,o.detectedstate?o.detectedstate:"?"),i.a.createElement("h5",null,"Nationality"),i.a.createElement("h3",null,o.nationality?o.nationality:"?"),i.a.createElement("h5",null,"Age"),i.a.createElement("h3",null,o.agebracket?o.agebracket:"?"),i.a.createElement("h5",null,"Gender"),i.a.createElement("h3",null,o.gender?o.gender:"?"),i.a.createElement("h5",null,"State Patient Number"),i.a.createElement("h3",null,o.statepatientnumber?o.statepatientnumber:"?"),i.a.createElement("h5",null,"Type of transmission"),i.a.createElement("h3",null,o.typeoftransmission?o.typeoftransmission:"?")),i.a.createElement("div",{className:"notes"},i.a.createElement("h5",null,"Notes"),i.a.createElement("h3",null,o.notes)),i.a.createElement("h5",null,"Source 1"),i.a.createElement("div",{className:"link"},i.a.createElement("a",{href:o.source1,target:"_noblank"},o.source1)),i.a.createElement("h5",null,"Source 2"),i.a.createElement("div",{className:"link"},i.a.createElement("a",{href:o.source2,target:"_noblank"},o.source2)),i.a.createElement("h5",null,"Source 3"),i.a.createElement("div",{className:"link"},i.a.createElement("a",{href:o.source3,target:"_noblank"},o.source3)))))},y=a(16),v=a(47),b=a(261),g=a(180),N=a.n(g),j=a(262),O=a(84),k=a(66),w=a(140);function D(e,t){var a=Object.keys(t);return e.filter((function(e){return a.every((function(a){return!t[a].length||e[a]===t[a]}))}))}t.default=function(e){var t=Object(l.useState)(!1),a=Object(c.a)(t,2),s=a[0],m=a[1],h=Object(l.useState)([]),p=Object(c.a)(h,2),g=p[0],S=p[1],I=Object(l.useState)([]),C=Object(c.a)(I,2),M=C[0],x=C[1],A=Object(k.h)().pathname,U=Object(l.useState)("genders"),_=Object(c.a)(U,2),P=_[0],T=_[1],V=Object(l.useState)(!1),B=Object(c.a)(V,2),F=B[0],J=B[1],G=Object(l.useState)(Object(v.a)(new Date,1)),L=Object(c.a)(G,2),q=L[0],z=L[1],K=Object(w.a)("showReminder",!0),R=Object(c.a)(K,2),W=R[0],H=R[1],Q=Object(l.useState)(!1),X=Object(c.a)(Q,2),Y=X[0],Z=X[1],$=Object(l.useState)(!0),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne=Object(l.useState)({detectedstate:"",detecteddistrict:"",detectedcity:"",dateannounced:Object(o.a)(Object(v.a)(new Date,1),"dd/MM/yyyy")}),ce=Object(c.a)(ne,2),le=ce[0],ie=ce[1];Object(l.useEffect)((function(){window.scrollTo(0,0)}),[A]);var se=Object(l.useCallback)((function(){var e=Object(u.a)(le.dateannounced,"dd/MM/yyyy",new Date);return Object(b.a)(e,y.o.v1)?1:Object(b.a)(e,y.o.v2)?2:Object(b.a)(e,y.o.v3)?3:Object(b.a)(e,y.o.v4)?4:Object(b.a)(e,y.o.v5)?5:Object(b.a)(e,y.o.v6)?6:void 0}),[le.dateannounced]);Object(l.useEffect)((function(){var e="https://api.covid19india.org/raw_data".concat(se(),".json");try{fetch(e).then((function(e){return e.json()})).then((function(e){S(e.raw_data.reverse()),m(!0)}))}catch(t){console.log(t)}}),[le.dateannounced,se]),Object(l.useEffect)((function(){document.querySelectorAll(".react-date-picker__inputGroup input").forEach((function(e){return e.setAttribute("readOnly",!0)}))}),[]);var re=function(e,t){ie((function(a){var c=Object(n.a)({},a);if(c[e]=t,"detectedstate"===e){var l=document.getElementById("district"),i=document.getElementById("city");l.style.display=""===t?"none":"inline",i.style.display="none",l.selectedIndex=0,i.selectedIndex=0,c.detecteddistrict="",c.detectedcity=""}else if("detecteddistrict"===e){var s=document.getElementById("city");s.style.display=""===t?"none":"inline",s.selectedIndex=0,c.detectedcity=""}return c}))};function de(e,t){var a=new Set(e.map((function(e){return e[t]})));return a.size>1&&a.add(""),"dateannounced"===t?Array.from(a):Array.from(a).sort()}return Object(l.useEffect)((function(){D(g,le).length>0?(x(D(g,le)),Z(!1),ae(!1)):Z(!0)}),[g,le]),i.a.createElement("div",{className:"Demographics"},i.a.createElement(O.a,null,i.a.createElement("title",null,"Demographics - covid19india.org"),i.a.createElement("meta",{name:"title",content:"Demographics - covid19india.org"}),i.a.createElement("meta",{name:"description",content:"A demographical overview of the Indian population affected by the coronavirus."})),i.a.createElement("div",{className:"filters fadeInUp",style:{animationDelay:"0.2s"}},i.a.createElement("div",{className:"filters-left"},i.a.createElement("div",{className:"select"},i.a.createElement("select",{style:{animationDelay:"0.3s"},id:"state",onChange:function(e){re("detectedstate",e.target.value)},defaultValue:le.detectedstate},i.a.createElement("option",{value:"",disabled:!0},"Select State"),de(g,"detectedstate").map((function(e,t){return i.a.createElement("option",{key:t,value:e},""===e?"All":e)})))),i.a.createElement("div",{className:"select"},i.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"district",onChange:function(e){re("detecteddistrict",e.target.value)},defaultValue:le.detecteddistrict},i.a.createElement("option",{value:"",disabled:!0},"Select District"),de(D(g,{detectedstate:le.detectedstate}),"detecteddistrict").map((function(e,t){return i.a.createElement("option",{key:t,value:e},""===e?"All":e)})))),i.a.createElement("div",{className:"select"},i.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"city",onChange:function(e){re("detectedcity",e.target.value)},defaultValue:le.detectedcity},i.a.createElement("option",{value:"",disabled:!0},"Select City"),de(D(g,{detectedstate:le.detectedstate,detecteddistrict:le.detecteddistrict}),"detectedcity").map((function(e,t){return i.a.createElement("option",{key:t,value:e},""===e?"All":e)})))),i.a.createElement("div",{className:"select"},i.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"city",onChange:function(e){re("detectedcity",e.target.value)},defaultValue:le.detectedcity},i.a.createElement("option",{value:"",disabled:!0},"Select City"),de(D(g,{detectedstate:le.detectedstate,detecteddistrict:le.detecteddistrict}),"detectedcity").map((function(e,t){return i.a.createElement("option",{key:t,value:e},""===e?"All":e)})))),i.a.createElement("div",{className:"select"},i.a.createElement(N.a,{value:q,minDate:new Date("30-Jan-2020"),maxDate:Object(v.a)(new Date,1),format:"dd/MM/y",calendarIcon:i.a.createElement(j.a,null),inputProps:onkeydown=function(e){e.preventDefault()},clearIcon:i.a.createElement(E.a,null),onChange:function(e){z(e);var t=e?Object(o.a)(e,"dd/MM/yyyy"):"";re("dateannounced",t)}}))),i.a.createElement("div",{className:"legend"},"genders"===P&&i.a.createElement("div",{className:"legend-left"},i.a.createElement("div",{className:"circle is-female"}),i.a.createElement("h5",{className:"is-female"},"Female"),i.a.createElement("div",{className:"circle is-male"}),i.a.createElement("h5",{className:"is-male"},"Male"),i.a.createElement("div",{className:"circle"}),i.a.createElement("h5",{className:""},"Unknown")),"transmission"===P&&i.a.createElement("div",{className:"legend-left"},i.a.createElement("div",{className:"circle is-local"}),i.a.createElement("h5",{className:"is-local"},"Local"),i.a.createElement("div",{className:"circle is-imported"}),i.a.createElement("h5",{className:"is-imported"},"Imported"),i.a.createElement("div",{className:"circle"}),i.a.createElement("h5",{className:""},"Unknown")),"nationality"===P&&i.a.createElement("div",{className:"legend-left nationality"},i.a.createElement("div",{className:"circle is-in"}),i.a.createElement("h5",{className:"is-in"},"In"),i.a.createElement("div",{className:"circle is-uk"}),i.a.createElement("h5",{className:"is-uk"},"Uk"),i.a.createElement("div",{className:"circle is-us"}),i.a.createElement("h5",{className:"is-us"},"Us"),i.a.createElement("div",{className:"circle is-th"}),i.a.createElement("h5",{className:"is-thailand"},"Th"),i.a.createElement("div",{className:"circle is-ph"}),i.a.createElement("h5",{className:"is-ph"},"Ph"),i.a.createElement("div",{className:"circle is-it"}),i.a.createElement("h5",{className:"is-it"},"It"),i.a.createElement("div",{className:"circle is-ca"}),i.a.createElement("h5",{className:"is-ca"},"Ca"),i.a.createElement("div",{className:"circle is-id"}),i.a.createElement("h5",{className:"is-id"},"Id"),i.a.createElement("div",{className:"circle is-mm"}),i.a.createElement("h5",{className:"is-mm"},"Mm")),i.a.createElement("div",{className:"select ".concat(P)},i.a.createElement("select",{style:{animationDelay:"0.4s"},onChange:function(e){T(e.target.value)},defaultValue:P},i.a.createElement("option",{value:"genders"},"Genders"),i.a.createElement("option",{value:"transmission"},"Transmission"),i.a.createElement("option",{value:"nationality"},"Nationality"))))),i.a.createElement("div",{className:"header fadeInUp",style:{animationDelay:"0.3s"}},i.a.createElement("div",null,i.a.createElement("h1",null,"Demographics"),i.a.createElement("div",{className:"deep-dive ".concat(Y||0===M.length?"disabled":"")},i.a.createElement("h5",null,"Expand"),i.a.createElement("input",{type:"checkbox",checked:F,disabled:Y||0===M.length,onChange:function(e){J(!F)},className:"switch"}))),i.a.createElement("h6",{className:"disclaimer"},"Some of the data provided might be missing/unknown as the details have not been shared by the state/central governments")),i.a.createElement("div",{className:"reminder fadeInUp",style:{animationDelay:"1s",display:W?"":"none"}},i.a.createElement(E.a,{onClick:function(){H(!1)}}),i.a.createElement("p",null,"It is important that we do not think of these as just tiny boxes, numbers, or just another part of statistics - among these are our neighbors, our teachers, our healthcare workers, our supermarket vendors, our friends, our co-workers, our children or our grandparents.",i.a.createElement("br",null),i.a.createElement("br",null),"Among these are our people.")),s&&i.a.createElement("div",{className:"patientdb-wrapper"},te?" ":Y?i.a.createElement("div",{className:"no-result"},i.a.createElement("h5",null,"There were no new cases in",i.a.createElement("span",null,le.detectedcity.length>0?" ".concat(le.detectedcity,", "):"",le.detecteddistrict.length>0?" ".concat(le.detecteddistrict,", "):""," "+le.detectedstate)," ","on ",i.a.createElement("span",null,le.dateannounced,"."))):i.a.createElement(f,{patients:M,colorMode:P,expand:F})),i.a.createElement(r,{patients:g}),i.a.createElement(d.default,null))}}}]);
//# sourceMappingURL=Demographics.3646995e.chunk.js.map